Ты — ведущий fullstack-разработчик. Работаем в существующем проекте Recipe-Kitchen-Share (Next.js App Router + TypeScript + Prisma + Neon/Postgres + Auth). Нужно добавить лайки к ПУБЛИЧНЫМ рецептам.

ЦЕЛЬ
- Пользователь может поставить лайк публичному рецепту.
- Ограничение: 1 пользователь = 1 лайк на рецепт (повторное нажатие снимает лайк — toggle).
- На карточке/в списке показываем: количество лайков и состояние кнопки (лайкнут/не лайкнут).
- Добавить сортировку: по популярности (кол-во лайков) и по дате (createdAt).

ТРЕБОВАНИЯ
- Только авторизованные пользователи могут лайкать.
- Лайкать можно только public recipes.
- Защита от накрутки на уровне БД: уникальный индекс (userId, recipeId).
- Эндпоинт должен быть идемпотентным по смыслу toggle: повторный запрос меняет состояние.
- UI: кнопка Like (иконка палец вверх), счётчик рядом. Во время запроса — disabled + оптимистичное обновление (если уместно).
- Ошибки: если не авторизован — показать понятное сообщение/редирект на вход; если рецепт приватный/не найден — 404/ошибка; если БД недоступна — “Попробуйте позже”.

ПЛАН РАБОТЫ (СНАЧАЛА ОБЪЯСНИ, ПОТОМ СДЕЛАЙ)
1) Схема БД:
   - Добавь модель Like (или RecipeLike) в prisma.schema:
     fields: id (cuid), userId, recipeId, createdAt
     relations: Like->User, Like->Recipe
     @@unique([userId, recipeId])
     @@index([recipeId])
   - Обнови модель Recipe: likes relation
   - Сделай миграцию Prisma.

2) Серверная логика:
   - Создай route handler: POST /api/recipes/[id]/like
   - Определи пользователя через текущую авторизацию (NextAuth/your auth util).
   - Проверь: рецепт существует и isPublic=true.
   - Toggle:
       если запись Like существует -> удалить
       иначе -> создать
   - Верни JSON: { liked: boolean, likesCount: number }
   - likesCount посчитай через prisma.like.count({ where:{ recipeId } })

3) Вывод данных:
   - В выборке публичных рецептов добавь:
     - likesCount (через _count.likes)
     - признак likedByMe для текущего пользователя (через relation filter или отдельный запрос по recipeIds)
   - Реализуй сортировки:
     - popular: orderBy: { likes: { _count: 'desc' } } (или через _count)
     - recent: orderBy: { createdAt: 'desc' }
   - Добавь параметр sort в URL (?sort=popular|recent) и переключатель в UI.

4) UI:
   - Компонент LikeButton:
     props: recipeId, initialLiked, initialCount
     состояние: liked/count/loading
     по клику -> fetch POST /api/recipes/{id}/like
     обновить UI по ответу, обработать ошибки.
   - Вставь кнопку в карточку рецепта в “Публичные рецепты”.

5) Тест/проверка:
   - Проверь: без логина лайк не ставится
   - Один пользователь не может поставить два лайка (уникальный индекс)
   - Toggle работает
   - Сортировка popular действительно меняет порядок.

СДЕЛАЙ ИЗМЕНЕНИЯ В КОДЕ
- Создай/обнови необходимые файлы.
- Покажи diff (или перечисли файлы и ключевые фрагменты кода).
- Укажи команды: prisma migrate dev, prisma generate.
- Не ломай существующий функционал CRUD рецептов.

Если в проекте уже есть Vote, используй его подход (route + UI), но лайк должен быть отдельной сущностью Like.
